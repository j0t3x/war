!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("war",[],e):"object"==typeof exports?exports.war=e():t.war=e()}(this,function(){return function(t){function e(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){var o=r(1);o=new o,t.exports=o},function(t,e,r){var o=r(2),n=function(){this.globalHeaders={},this.methods=["GET","POST","PUT","DELETE","PATCH","HEAD"],this.connections={};for(var t=0;t<this.methods.length;t++)this[this.methods[t]]=function(t){return function(e,r){this.send(e,t,r)}}.bind(this)(this.methods[t])};n.prototype.setGlobalHeaders=function(t){if(!t)throw"grow a pair... name, value needed to set a temporal header for this connection";for(var e in t)t.hasOwnProperty(e)&&(this.globalHeaders[e]=t[e])},n.prototype.send=function(t,e,r){r||(r=null),this.connections[t].startAndSend(e,r,this.globalHeaders)},n.prototype.confConnection=function(t){var e=this.generateConnectionID();return this.connections[e]=new o(t,e),this.connections[e]},n.prototype.generateConnectionID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.exports=n},function(t,e){var r=function(t,e){this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.url=t,this.id=e,this.data,this.encoding,this.async=!0,this.tempHeaders={},this.xhr=this.checkXHR(),this.data=new FormData,this.lastTimeOfUse=0,this.setListeners()};r.prototype.startAndSend=function(t,e,r){this.formatAsFormData(e),this.xhr.open(t,this.url,!0),this._addTempHeader(r),this._addTempHeader(this.tempHeaders),this.setNowLastTimeOfUse(),this.xhr.send(this.data)},r.prototype.formatAsFormData=function(t){for(var e in t)t.hasOwnProperty(e)&&this.data.append(e,t[e])},r.prototype.setNowLastTimeOfUse=function(){var t=Date.now();this.lastTimeOfUse=t},r.prototype.addTxtFileFromString=function(t,e){if("string"!=typeof e)throw"Use string for this method";var r=new Blob([e],{type:"text/plain"});return this.data.append(t,r),this},r.prototype.addImgFileFromArr=function(t,e,r){if(e instanceof Array)throw"Use an array for this method";if("string"!=typeof r)throw"use a string for the MIME type, like image/jpeg";var o=new Blob([e],{type:r?r:"image/jpeg"});return this.data.append(t,o),this},r.prototype.addTempHeader=function(t){if(!t)throw"grow a pair... name, value needed to set a temporal header for this onnection";for(var e in t)t.hasOwnProperty(e)&&(this.tempHeaders[e]=t[e]);return this},r.prototype._addTempHeader=function(t){if(!t)throw"grow a pair... name, value needed to set a temporal header for this onnection";for(var e in t)t.hasOwnProperty(e)&&this.xhr.setRequestHeader(e,t[e]);return this},r.prototype.setEncoding=function(t){return this},r.prototype.checkXHR=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.6.0")}catch(t){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){return null}}},r.prototype.setListeners=function(){this.xhr.addEventListener("readystatechange",this.readystatechange.bind(this)),this.xhr.addEventListener("progress",this._progress.bind(this)),this.xhr.addEventListener("load",this._load.bind(this)),this.xhr.addEventListener("error",this._error.bind(this)),this.xhr.addEventListener("abort",this._abort.bind(this))},r.prototype.readystatechange=function(t){this.xhr.readyState===this.DONE&&200===this.xhr.status&&this._response(this.xhr.responseText)},r.prototype._response=function(t){this.response(t)},r.prototype.response=function(t){},r.prototype._progress=function(t){var e;t.lengthComputable&&(e=t.loaded/t.total),this.progress(e)},r.prototype.progress=function(t){},r.prototype._load=function(t){this.load(t)},r.prototype.load=function(t){},r.prototype._error=function(t){this.error(t)},r.prototype.error=function(t){},r.prototype._abort=function(t){this.abort(t)},r.prototype.abort=function(t){},t.exports=r}])});
//# sourceMappingURL=war.min.js.map